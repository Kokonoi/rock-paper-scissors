<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <button id="rock">rock</button>
    <button id="paper">paper</button>
    <button id="scissors">scissors</button>
    <div>
      <span id="playerScore">0</span> - <span id="computerScore">0</span>
    </div>
    <div id="result">Press a button to start the game</div>

    <script>
      // Array for choices in the game
      const choices = ["Rock", "Paper", "Scissors"];

      const rock = document.getElementById("rock");
      const paper = document.getElementById("paper");
      const scissors = document.getElementById("scissors");

      const resultDiv = document.getElementById("result");
      const playerScore = document.getElementById("playerScore");
      const computerScore = document.getElementById("computerScore");

      rock.addEventListener("click", () => {
        resultDiv.innerText = playRound("Rock", getComputerChoice());
      });
      paper.addEventListener("click", () => {
        resultDiv.innerText = playRound("Paper", getComputerChoice());
      });
      scissors.addEventListener("click", () => {
        resultDiv.innerText = playRound("Scissors", getComputerChoice());
      });

      // Function for computer choice
      function getComputerChoice() {
        let number = Math.floor(Math.random() * 3);
        let answer = choices[number];
        return answer;
      }

      // Function for player choice
      function getPlayerChoice() {
        let choice = prompt("Type your choice");
        let answer = choice[0].toUpperCase() + choice.slice(1).toLowerCase();

        return answer;
      }

      // Function for round made with if statements
      function playRound(playerSelection, computerSelection) {
        if (playerSelection == "Rock" && computerSelection == "Scissors") {
          return "You Win! Rock beats Scissors ";
        } else if (
          playerSelection == "Scissors" &&
          computerSelection == "Rock"
        ) {
          return "You Lose! Rock beats Scissors";
        } else if (
          playerSelection == "Paper" &&
          computerSelection == "Scissors"
        ) {
          return "You Lose! Scissors beats Paper";
        } else if (
          playerSelection == "Scissors" &&
          computerSelection == "Paper"
        ) {
          return "You Win! Scissors beats Paper";
        } else if (playerSelection == "Rock" && computerSelection == "Paper") {
          return "You Lose! Paper beats Scissors";
        } else if (playerSelection == "Paper" && computerSelection == "Rock") {
          return "You Win! Paper beats Scissors";
        } else {
          return "It's a tie";
        }
      }

      // Function that counts rounds and starts the game
      function game() {
        // Variables that store players' wins
        let playerWins = 0;
        let computerWins = 0;

        // Loop that plays until someone wins
        let i = 0;
        while (i < 1) {
          // Variables that store players' choices
          const playerSelection = getPlayerChoice();
          const computerSelection = getComputerChoice();

          let roundRes = playRound(playerSelection, computerSelection);
          console.log(roundRes);

          // Statements to check who wins
          if (roundRes.includes("Win")) {
            playerWins++;
            i++;
          } else if (roundRes.includes("Lose")) {
            computerWins++;
            i++;
          } else {
            // do nothing
          }

          // Prints scores
          playerScore.innerText = playerWins;
          computerScore.innerText = computerWins;
        }

        // Decides a winner
        if (playerWins > computerWins) {
          resultDiv.innerText = "Player Wins!";
        } else {
          resultDiv.innerText = "Computer Wins!";
        }
      }

      // On load starts the game
      game();
    </script>
  </body>
</html>
